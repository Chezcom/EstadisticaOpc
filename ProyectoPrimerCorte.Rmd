---
title: "Untitled"
output: html_document
date: "2025-04-05"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Fundamentos de Estad√≠stica para Anal√≠tica de datos

Integrantes

-   Jimmy Jos√© D√≠az Leyton
-   Jessica Hasbleidy Pinilla Segovia
-   Yenny Marisol S√°nchez S√°nchez

El uso de veh√≠culos el√©ctricos ha experimentado un crecimiento
significativo en los √∫ltimos a√±os debido al inter√©s en reducir la
dependencia de los combustibles f√≥siles. Por ello, se ha tomado un
conjunto de datos de veh√≠culos el√©ctricos registrados en el estado de
Washington con el prop√≥sito de examinar distintos aspectos relacionados
con su comercializaci√≥n y desempe√±o.

Se analizar√°n variables como el tipo de veh√≠culo el√©ctrico (BEV -
totalmente el√©ctrico y PHEV - h√≠brido enchufable), el precio base (MSRP)
y el alcance el√©ctrico (Electric Range), con el fin de identificar
patrones y diferencias entre estos modelos.

Adem√°s, se explorar√° la evoluci√≥n de los precios a lo largo del tiempo,
la relaci√≥n entre la autonom√≠a y el tipo de veh√≠culo, as√≠ como la
influencia de factores geogr√°ficos en la elegibilidad para incentivos de
energ√≠a limpia. A trav√©s de este an√°lisis, se espera obtener informaci√≥n
valiosa sobre la adopci√≥n y el desarrollo de los veh√≠culos el√©ctricos en
Washington, contribuyendo a una mejor comprensi√≥n de su impacto en el
mercado y en la infraestructura de transporte sostenible.

### **Variables cualitativas:**

1.  **City** (Ciudad) - **Nominal**

2.  **State** (Estado) - **Nominal**: "Washington".

3.  **Make** (Marca) - **Nominal**: Diferentes marcas de veh√≠culos, como
    Tesla, Nissan, etc.

4.  **Model** (Modelo) - **Nominal**: Diferentes modelos de veh√≠culos.

5.  **Electric Vehicle Type** (Tipo de veh√≠culo el√©ctrico) -
    **Nominal**: Puede ser BEV (Battery Electric Vehicle) o PHEV
    (Plug-in Hybrid Electric Vehicle).

6.  **Clean Alternative Fuel Vehicle (CAFV) Eligibility** (Preferencia
    para veh√≠culo de combustible alternativo limpio) - **Nominal**

7.  **Vehicle Location** (Ubicaci√≥n del veh√≠culo) - **Nominal**

8.  **Electric Utility** (Utilidad el√©ctrica) - **Nominal**: Es el
    nombre de la empresa de servicios el√©ctricos que abastece el √°rea.

9.  **Legislative District** (Distrito legislativo) - **Nominal**:
    Representa los diferentes distritos legislativos en el estado de
    Washington.

### **Variables cuantitativas:**

1.  **Postal Code** (C√≥digo Postal) - **Discreta**: Es un n√∫mero que
    representa un c√≥digo de √°rea espec√≠fico, pero es una variable
    discreta porque los c√≥digos postales est√°n en un conjunto limitado
    de valores.

2.  **Model Year** (A√±o del modelo) - **Discreta**: Es un n√∫mero entero
    que indica el a√±o en que se fabric√≥ el veh√≠culo. Aunque es num√©rica,
    es discreta porque los valores son enteros y finitos.

3.  **Electric Range** (Alcance el√©ctrico) - **Continua**: Es la
    distancia que puede recorrer un veh√≠culo con una sola carga. Como
    puede tomar cualquier valor real dentro de un rango, es una variable
    continua.

4.  **Base MSRP** (Precio base MSRP) - **Continua**: Es el precio base
    del veh√≠culo, que puede tomar cualquier valor dentro de un rango, lo
    que lo convierte en una variable continua.

5.  **2020 Census Tract** (Tracto censal de 2020) - **Nominal o
    discreta**: Aunque parece ser un identificador geogr√°fico, en
    algunos casos puede ser tratado como una variable nominal (es un
    c√≥digo de √°rea), pero dependiendo del an√°lisis, puede tambi√©n
    considerarse discreta si se le usa para representar zonas
    geogr√°ficas.

### **Pregunta global:**

**¬øCu√°l es la relaci√≥n entre el tipo de veh√≠culo el√©ctrico (BEV vs
PHEV), el precio base (MSRP) y el alcance el√©ctrico (Electric Range) de
los veh√≠culos registrados en el Estado de Washington?**

Esta pregunta abarca una perspectiva amplia que examina las diferencias
entre los tipos de veh√≠culos el√©ctricos (BEV y PHEV) en relaci√≥n con dos
variables cuantitativas clave: el precio y el alcance el√©ctrico. Esto te
permitir√° ver si existen patrones o diferencias significativas entre
estos dos tipos de veh√≠culos en cuanto a su precio y rendimiento.

### **Preguntas adicionales para apoyar la respuesta:**

1.  **¬øC√≥mo var√≠a el precio base (MSRP) de los veh√≠culos el√©ctricos en
    funci√≥n del a√±o del modelo?\
    **

    Esta pregunta te permitir√° analizar c√≥mo ha cambiado el precio a lo
    largo de los a√±os. Esto es √∫til para entender si los veh√≠culos m√°s
    nuevos tienden a ser m√°s caros y si esto est√° relacionado con el
    avance de la tecnolog√≠a.

2.  **¬øExisten diferencias en el alcance el√©ctrico (Electric Range)
    entre los veh√≠culos BEV y los PHEV?\
    \
    **Este an√°lisis podr√≠a ayudar a determinar si los veh√≠culos
    completamente el√©ctricos (BEV) tienen un mayor alcance en
    comparaci√≥n con los h√≠bridos enchufables (PHEV) o si no hay
    diferencias significativas.

3.  **¬øC√≥mo var√≠a la elegibilidad para los veh√≠culos de combustible
    alternativo limpio (CAFV) en funci√≥n del tipo de veh√≠culo y su
    ubicaci√≥n geogr√°fica (estado o ciudad)?\
    **

    Esta pregunta te permitir√≠a explorar si hay diferencias en la
    elegibilidad para incentivos o beneficios dependiendo del tipo de
    veh√≠culo (BEV o PHEV) y c√≥mo esto se relaciona con la ciudad o
    regi√≥n en la que est√°n registrados los veh√≠culos.

4.  **¬øQu√© relaci√≥n existe entre el tipo de veh√≠culo (BEV o PHEV) y la
    utilidad el√©ctrica que abastece la regi√≥n en la que est√° registrado
    el veh√≠culo?\
    \
    **Esta pregunta busca explorar si existe alguna correlaci√≥n entre el
    tipo de veh√≠culo el√©ctrico y el proveedor de electricidad que tiene
    la regi√≥n, lo que podr√≠a influir en la accesibilidad y la
    infraestructura de carga disponible.

### Cargar librer√≠as necesarias

```{r}
library(tidyverse)
library(dplyr)
# Instalar TinyTeX
#install.packages("tinytex")
#tinytex::install_tinytex()


```

### Cargar datos (ajusta el nombre del archivo)

```{r}

datos<- read.csv("C:/Users/OptiPlex/OneDrive/Documentos/Universidad_Central/Opcion Estadistica/Proyecto/Electric_Vehicle_Population_Data.csv")
```

### Ver las primeras filas

```{r}
head(datos)
```

### Ver estructura de los datos

```{r}
str(datos)
```

### Pregunta 1:

Filtrar datos para BEV y PHEV

```{r}
vehiculos_filtrados <- datos %>%
  filter(Electric.Vehicle.Type %in% c("Battery Electric Vehicle (BEV)", "Plug-in Hybrid Electric Vehicle (PHEV)"))

```

### Crear el gr√°fico

```{r}
#windows()
ggplot(vehiculos_filtrados, aes(x = Electric.Vehicle.Type, fill = Electric.Vehicle.Type)) +
  geom_bar() +
  labs(title = "Distribuci√≥n de Veh√≠culos El√©ctricos (BEV vs PHEV)",
       x = "Tipo de Veh√≠culo",y = "Cantidad",fill = "Tipo") +  theme_minimal()
```

###Pregunta 3: Diferencias en el alcance el√©ctrico entre BEV y PHEV

### Gr√°fico de boxplot comparando BEV y PHEV

```{r}
ggplot(datos, aes(x = Electric.Vehicle.Type, y = Electric.Range, fill =
Electric.Vehicle.Type)) + geom_boxplot() + labs(title = "Comparaci√≥n del
Alcance entre BEV y PHEV", x = "Tipo de Veh√≠culo", y = "Alcance
El√©ctrico (millas)") + theme_minimal()
```

###Pregunta 4: Relaci√≥n entre elegibilidad CAFV y ubicaci√≥n

### Contar registros por ciudad y elegibilidad

```{r}
ciudad_elegibilidad <- datos %>%
  group_by(City, Clean.Alternative.Fuel.Vehicle..CAFV..Eligibility) %>%
  summarise(Conteo = n(), .groups = "drop") %>%
  arrange(desc(Conteo))
```

### Obtener la moda (ciudades con mayor frecuencia por tipo de elegibilidad)

```{r}
moda_ciudades <- ciudad_elegibilidad %>%
  group_by(Clean.Alternative.Fuel.Vehicle..CAFV..Eligibility) %>%
  slice_max(Conteo, n = 5)  # Tomar las 5 ciudades con m√°s registros
# Tomar las 5 ciudades con m√°s registros
```

### Obtener la mediana del conteo de registros por ciudad

```{r}
mediana_conteo <- median(ciudad_elegibilidad$Conteo)
```

### Obtener la media del conteo de registros por ciudad

```{r}
media_conteo <- mean(ciudad_elegibilidad$Conteo)
```

### Mostrar resultados

```{r}
print("Moda (Top ciudades por elegibilidad):") 
print(moda_ciudades)
print(paste("Mediana de registros por ciudad:", mediana_conteo))
print(paste("Media de registros por ciudad:", round(media_conteo, 2)))

#windows()
ggplot(moda_ciudades, aes(x = reorder(City, Conteo), y =
Conteo, fill = Clean.Alternative.Fuel.Vehicle..CAFV..Eligibility)) +
geom_bar(stat = "identity", position = "dodge") + coord_flip() +
labs(title = "Ciudades con Mayor Elegibilidad CAFV", x = "Ciudad", y =
"Cantidad de Veh√≠culos") + theme_minimal()
```

### Pregunta 5: Relaci√≥n entre tipo de veh√≠culo y proveedor el√©ctrico

### Contar registros por Tipo de Veh√≠culo y Proveedor El√©ctrico

```{r}
vehiculo_proveedor <- datos %>%
  group_by(Electric.Vehicle.Type, Electric.Utility) %>%
  summarise(Conteo = n(), .groups = "drop") %>%
  arrange(desc(Conteo))
```

### Obtener la moda (las combinaciones m√°s frecuentes)

```{r}
moda_vehiculo_proveedor <- vehiculo_proveedor %>%
  group_by(Electric.Vehicle.Type) %>%
  slice_max(Conteo, n = 5)  # Tomar las 5 combinaciones m√°s comunes
```

### Calcular mediana y media del conteo de registros

```{r}
mediana_conteo <- median(vehiculo_proveedor$Conteo)
media_conteo <- mean(vehiculo_proveedor$Conteo)
```

### Mostrar resultados en consola

```{r}
print("Moda (Top combinaciones de Tipo de Veh√≠culo y Proveedor El√©ctrico):")
print(moda_vehiculo_proveedor)

print(paste("Mediana de registros por combinaci√≥n:", mediana_conteo))
print(paste("Media de registros por combinaci√≥n:", round(media_conteo, 2)))
```

### üîπ Visualizaci√≥n de las combinaciones m√°s comunes

```{r}
#windows()
ggplot(moda_vehiculo_proveedor, aes(x = reorder(Electric.Utility, Conteo), y = Conteo, fill = Electric.Vehicle.Type)) +
  geom_bar(stat = "identity", position = "dodge") +
  coord_flip() +
  labs(title = "Relaci√≥n entre Tipo de Veh√≠culo y Proveedor El√©ctrico",
       x = "Proveedor El√©ctrico",
       y = "Cantidad de Veh√≠culos") +
  theme_minimal()
```

#### **Conclusiones**

-   Los lugares donde los proveedores de electricidad han desarrollado
    una buena red de carga y existen incentivos claros son los que
    tienen m√°s veh√≠culos el√©ctricos. Como nos demuestran las gr√°ficas de
    la ciudad de Seattle.

-   Aunque los h√≠bridos enchufables (PHEV) se encuentren en el mercado,
    la mayor√≠a de las personas est√°n optando por los veh√≠culos 100%
    el√©ctricos (BEV). Esto indica que la tecnolog√≠a ha avanzado
    permitiendo mayor autonom√≠a en estos, que los incentivos y lugares
    de carga cada vez est√°n mejor distribuidos.

-   Las empresas de electricidad tienen un rol clave en el futuro de la
    movilidad. No es solo una cuesti√≥n de que las personas quieran
    cambiar a autos el√©ctricos, sino que las compa√±√≠as el√©ctricas deben
    estar preparadas para abastecer esa demanda. Aquellas que ya han
    trabajado en infraestructura est√°n viendo c√≥mo en sus regiones el
    n√∫mero de autos el√©ctricos crece m√°s r√°pido.

-   Las compa√±√≠as el√©ctricas deben estar preparadas para abastecer la
    demanda con su infraestructura ya que¬† est√°n viendo c√≥mo en sus
    regiones el n√∫mero de autos el√©ctricos crece m√°s r√°pido.

-   Aunque hay avances importantes, a√∫n hay proveedores con muy pocos
    autos el√©ctricos en sus redes, lo que indica que en algunas zonas
    falta infraestructura o incentivos atractivos.

#### **Referencias**

-   Data.gov. (n.d.). Electric Vehicle Population Data. Retrieved
    from<https://catalog.data.gov/dataset/electric-vehicle-population-data>
